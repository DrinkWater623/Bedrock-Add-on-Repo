{/*
	To Do
	How to craft the tool
	repair?
	?enchant?

	New ones to make:
	shears for just leaves and sheep (auto shearer for a farm)
	pickaxe for stones/ores
	hoe for crops
	shovel for dirt, grass/mud, gravel, sand, mycelium 
	
*/
"$module": "double_axe",
"$template":{
	"$format_version": "1.20.10",
	"minecraft:item": {
		"description": {
			"category": "equipment"
		},
		"components": {
			"tag:minecraft:is_axe": {}, // This may take away the on_use_on
			"tag:minecraft:is_tool": {},
			"minecraft:cooldown":{"category":"attack","duration":"{{=cooldown_duration}}"},
			"minecraft:creative_category": {"parent": "itemGroup.name.axe"},
			"minecraft:damage": "{{=attack_damage}}",	
			"minecraft:digger": {
				"use_efficiency": true,
				"destroy_speeds": [	
					//Logs
					{
						"{{#global_wood_types}}":{
							"block":"minecraft:{{wood_name}}_{{log_sfx}}", 
							"speed":"{{=wood_destroy_speed*1.5}}",
							"on_dig":{"event":"ev:damage_1"} //correct
						}
					},
					{
						"{{#global_wood_types}}":{
							"block":"minecraft:stripped_{{wood_name}}_{{log_sfx}}", 
							"speed":"{{=wood_destroy_speed*1.5}}",
							"on_dig":{"event":"ev:damage_1"} //correct
						}
					},
					// Other Wood - Log is in Main Template so that VEIN can have more damage
					{"block":{"tags":"query.any_tag('wood')"},"speed":"{{=wood_destroy_speed*1.5}}","on_dig":{"event":"ev:damage_1"}},
					//bamboo is not included in tag=wood
					{"{{#digger_products}}":{"block":{"name":"minecraft:bamboo_{{item_name}}"},"speed":"{{=wood_destroy_speed*1.5}}","on_dig":{"event":"ev:damage_1"}}},										
					{"{{#other_tree_block_loot}}":							{"block":"minecraft:{{block_name}}"					,"speed":"{{=wood_destroy_speed*2}}"	,"on_dig":{"event":"ev:damage_1"}}},					
					{"{{#axe_digger_tags.filter(x => x.axe_item == 1)}}":	{"block":{"tags":"query.any_tag('{{tag}}')"}	,"speed":"{{=wood_destroy_speed*1.5}}","on_dig":{"event":"ev:damage_1"}}},
					//wood like
					{"{{#axe_digger_names.filter(x => x.axe_item == 1)}}":	{"block":"{{name}}"				,"speed":"{{=wood_destroy_speed*1.5}}","on_dig":{"event":"ev:damage_1"}}},
					//// Soft
					{"{{#global_wood_types.filter(x => x.give_leaf == 1)}}":{"block":"minecraft:{{wood_name}}_{{leaf_sfx}}","speed":"{{=wood_destroy_speed*2}}"	,"on_dig":{"event":"ev:damage_1"}}},
					{"{{#axe_digger_tags.filter(x => x.axe_item == 0)}}":	{"block":{"tags":"query.any_tag('{{tag}}')"}	,"speed":"{{=wood_destroy_speed*2}}","on_dig":{"event":"ev:damage_1"}}},
					{"{{#axe_digger_names.filter(x => x.axe_item == 0)}}":	{"block":"minecraft:{{name}}"		,"speed":"{{=wood_destroy_speed*2}}","on_dig":{"event":"ev:damage_1"}}},
					//// Hard
					{"{{#axe_digger_tags.filter(x => x.axe_item  <= -1)}}":	{"block":{"tags":"query.any_tag('{{tag}}')"}	,"speed":"{{speed}}","on_dig":{"event":"ev:damage_{{axe_item*-10}}"}}},
					{"{{#axe_digger_names.filter(x => x.axe_item <= -1)}}":	{"block":"{{name}}"				,"speed":"{{speed}}","on_dig":{"event":"ev:damage_{{axe_item*-10}}"}}},

					// delete later - just something last so I don't have to keep fixing the commas
					{"block":"minecraft:log","speed":"{{=wood_destroy_speed*1.5}}","on_dig":{"event":"ev:damage_1"}}
				],
				"on_dig": {
					"speed": "{{=wood_destroy_speed/2}}",
					"event": "ev:damage_default"
				}
			},			
			"minecraft:durability":{"damage_chance":{"min":1,"max":1},"max_durability":"{{=max_durability}}"},				
			"minecraft:hand_equipped": true,
			"minecraft:max_stack_size": 1,											
			"minecraft:weapon":{
				"on_hit_block" : {"event":"ev:on_hit_block"},
				"on_hurt_entity" : {"event":"ev:damage_2"},
				"on_not_hurt_entity" : {"event":"ev:damage_1"}
			}
		},				
		"events":{
			"ev:damage_default": {
				"run_command": {"command":["title @p[tag=debug] title Default Damage"]},
				"damage": {"type":"durability","amount":1,"target":"self"}
			},
			"{{#1..9}}": {
				"ev:damage_{{value}}": {
					"run_command": {"command":["title @p[tag=debug] title Damage to Axe = {{value}}"]},
					"damage": {"type":"durability","amount":"{{=value}}","target":"self"}
				}
			},
			"{{#1..10}}": {				
				"ev:damage_{{value*10}}": {
					"run_command": {"command":["title @p[tag=debug] title Damage to Axe = {{value*10}}"]},
					"damage": {"type":"durability","amount":"{{=value*10}}","target":"self"}
				}
			},
			//see what this does
			"ev:on_hit_block": {
				"sequence": [
					{
						"run_command": {
							"command": [
								"execute if entity @p[r=5,tag=debug] run say on_hit_block"
							]
						}
					}
				]
			},
			//this is called by MC if tag=is_axe  --- do not use sequence in the event
			"on_tool_used":  {
				"run_command":{"command":["execute if entity @p[r=5,tag=debug] run say on_tool_used"]}
				//it does not like it if you and an event...
				//,"event":"ev:damage_1"
			}
		}
	}
}
}